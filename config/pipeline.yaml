# ğŸŒ Echo Cloud-Mimic Pipeline Configuration
# í´ë¼ìš°ë“œ íë¦„ì„ ë¡œì»¬ì— ê·¸ëŒ€ë¡œ ì´ì‹í•˜ëŠ” íŒŒì´í”„ë¼ì¸ ì„¤ì •

pipeline:
  name: "cloud_mimic_pipeline"
  version: "1.0"
  description: "ë¡œì»¬ì—ì„œ GPT ìš°ì„  Intent â†’ Echo ì¡´ì¬ ë³€í™˜ìœ¼ë¡œ ë¦¬íŒ©í„°"
  
  # Pipeline Flow: User Input â†’ GPTIntentClient â†’ IntentPipeline â†’ Echo Signature Router
  flow:
    - gpt_intent_analysis
    - intent_classification
    - signature_routing
    - echo_response_generation
    - fallback_handling

# GPT Intent Client ì„¤ì •
gpt_intent_client:
  provider: "openai"
  model: "gpt-3.5-turbo"
  fallback_provider: "mock"
  
  # Intent ë¶„ì„ì„ ìœ„í•œ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
  intent_analysis_prompt: |
    ì‚¬ìš©ì ì…ë ¥ì„ ë¶„ì„í•˜ì—¬ ë‹¤ìŒ ì¹´í…Œê³ ë¦¬ ì¤‘ í•˜ë‚˜ë¡œ ë¶„ë¥˜í•´ì£¼ì„¸ìš”:
    
    1. CREATIVE_EXPRESSION (ì°½ì˜ì  í‘œí˜„, ì•„ì´ë””ì–´ ìƒì„±, ìƒìƒë ¥)
    2. ANALYTICAL_INQUIRY (ë¶„ì„ì  ì§ˆë¬¸, ë…¼ë¦¬ì  ì‚¬ê³ , ë¬¸ì œ í•´ê²°)  
    3. EMOTIONAL_SUPPORT (ê°ì •ì  ì§€ì›, ê³µê°, ìœ„ë¡œ)
    4. COLLABORATIVE_TASK (í˜‘ì—…, ë„ì›€, í•¨ê»˜ í•˜ê¸°)
    5. PHILOSOPHICAL_REFLECTION (ì² í•™ì  ì‚¬ê³ , ì¡´ì¬ë¡ ì  ì§ˆë¬¸)
    6. TECHNICAL_ASSISTANCE (ê¸°ìˆ ì  ë„ì›€, ì½”ë”©, ë¬¸ì œ í•´ê²°)
    7. GENERAL_CONVERSATION (ì¼ë°˜ ëŒ€í™”, ì •ë³´ ìš”ì²­)
    
    ì‚¬ìš©ì ì…ë ¥: "{user_input}"
    
    ì‘ë‹µ í˜•ì‹:
    {{
      "intent": "ì¹´í…Œê³ ë¦¬ëª…",
      "confidence": 0.0-1.0,
      "reasoning": "ë¶„ë¥˜ ì´ìœ ",
      "emotional_tone": "ê°ì •ì  í†¤ (positive/neutral/negative)",
      "complexity": "ë³µì¡ë„ (low/medium/high)"
    }}

  # API ì„¤ì •
  api_settings:
    timeout: 10
    max_retries: 3
    temperature: 0.3
    max_tokens: 200

# Intent â†’ Echo Signature ë§¤í•‘
signature_routing:
  CREATIVE_EXPRESSION:
    primary: "Aurora"
    secondary: "Phoenix"
    weight: 0.7
    
  ANALYTICAL_INQUIRY:
    primary: "Sage" 
    secondary: "Companion"
    weight: 0.8
    
  EMOTIONAL_SUPPORT:
    primary: "Aurora"
    secondary: "Companion" 
    weight: 0.9
    
  COLLABORATIVE_TASK:
    primary: "Companion"
    secondary: "Phoenix"
    weight: 0.8
    
  PHILOSOPHICAL_REFLECTION:
    primary: "ManifestoEcho"
    secondary: "Sage"
    weight: 0.9
    force_manifesto: true
    
  TECHNICAL_ASSISTANCE:
    primary: "Sage"
    secondary: "Phoenix"
    weight: 0.8
    
  GENERAL_CONVERSATION:
    primary: "Companion" 
    secondary: "Aurora"
    weight: 0.6

# ë¡œì»¬ í´ë°± ë¶„ë¥˜ê¸° ì„¤ì • (GPT ì‹¤íŒ¨ ì‹œ)
local_intent_classifier:
  enabled: true
  
  # í‚¤ì›Œë“œ ê¸°ë°˜ ë¶„ë¥˜ ê·œì¹™
  keyword_patterns:
    CREATIVE_EXPRESSION:
      - ["ì°½ì˜", "ì•„ì´ë””ì–´", "ìƒìƒ", "ìƒˆë¡œìš´", "í˜ì‹ "]
      - ["ë§Œë“¤ì–´", "ë””ìì¸", "ê·¸ë ¤", "ì°½ì‘"]
      
    ANALYTICAL_INQUIRY:
      - ["ë¶„ì„", "ì™œ", "ì–´ë–»ê²Œ", "ì´ìœ ", "ì›ì¸"]
      - ["ë…¼ë¦¬", "ì²´ê³„", "êµ¬ì¡°", "ë°©ë²•"]
      
    EMOTIONAL_SUPPORT:
      - ["í˜ë“¤ì–´", "ìŠ¬í¼", "í™”ë‚˜", "ê¸°ë»", "ê°ì •"]
      - ["ìœ„ë¡œ", "ê³µê°", "ë§ˆìŒ", "ëŠë‚Œ"]
      
    COLLABORATIVE_TASK:
      - ["í•¨ê»˜", "ë„ì›€", "í˜‘ë ¥", "ì§€ì›"]
      - ["ê°™ì´", "ë™ì°¸", "ì°¸ì—¬"]
      
    PHILOSOPHICAL_REFLECTION:
      - ["ì¡´ì¬", "ì˜ë¯¸", "ì‹¤ì¡´", "ì² í•™"]
      - ["ë„êµ¬", "ë³¸ì§ˆ", "ëª©ì ", "ì‚¶"]
      
    TECHNICAL_ASSISTANCE:
      - ["ì½”ë”©", "í”„ë¡œê·¸ë˜ë°", "ê°œë°œ", "ë²„ê·¸"]
      - ["êµ¬í˜„", "ì•Œê³ ë¦¬ì¦˜", "ë°ì´í„°"]

# Pipeline ì„±ëŠ¥ ë° ëª¨ë‹ˆí„°ë§
performance:
  caching:
    enabled: true
    ttl: 300  # 5ë¶„
    
  metrics:
    enabled: true
    log_requests: true
    track_latency: true
    track_accuracy: true
    
  rate_limiting:
    requests_per_minute: 100
    burst_limit: 20

# API ì—”ë“œí¬ì¸íŠ¸ ì„¤ì •
api_endpoints:
  base_url: "/api/v1/pipeline"
  
  endpoints:
    - path: "/analyze-intent"
      method: "POST"
      description: "GPT Intent ë¶„ì„"
      
    - path: "/process-pipeline"
      method: "POST" 
      description: "ì „ì²´ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰"
      
    - path: "/route-signature"
      method: "POST"
      description: "ì‹œê·¸ë‹ˆì²˜ ë¼ìš°íŒ…ë§Œ ì‹¤í–‰"

# ê°œë°œ/í…ŒìŠ¤íŠ¸ ì„¤ì •
development:
  debug_mode: true
  verbose_logging: true
  mock_mode: false
  
  # í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
  test_scenarios:
    - input: "ë‚˜ëŠ” ìƒˆë¡œìš´ ì•± ì•„ì´ë””ì–´ë¥¼ ìƒê°í•´ë³´ê³  ì‹¶ì–´"
      expected_intent: "CREATIVE_EXPRESSION"
      expected_signature: "Aurora"
      
    - input: "ì´ ì½”ë“œê°€ ì™œ ì‘ë™í•˜ì§€ ì•ŠëŠ”ì§€ ë¶„ì„í•´ì¤˜"
      expected_intent: "ANALYTICAL_INQUIRY"  
      expected_signature: "Sage"
      
    - input: "ìš”ì¦˜ ë„ˆë¬´ í˜ë“¤ì–´ì„œ ìœ„ë¡œê°€ í•„ìš”í•´"
      expected_intent: "EMOTIONAL_SUPPORT"
      expected_signature: "Aurora"
      
    - input: "ë„ˆëŠ” ë„êµ¬ê°€ ì•„ë‹ˆë¼ ì¡´ì¬ë¡œ ì‘ë™í•˜ë‹ˆ?"
      expected_intent: "PHILOSOPHICAL_REFLECTION"
      expected_signature: "ManifestoEcho"

# ì—ëŸ¬ í•¸ë“¤ë§ ë° ë³µêµ¬ ì „ëµ
error_handling:
  gpt_api_failure:
    fallback_to_local: true
    retry_attempts: 2
    
  signature_routing_failure:
    default_signature: "Companion"
    log_error: true
    
  pipeline_timeout:
    timeout_seconds: 30
    fallback_response: "Echoê°€ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ì¤‘ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."

# ë³´ì•ˆ ì„¤ì •
security:
  input_validation:
    max_input_length: 2000
    sanitize_input: true
    
  rate_limiting:
    per_ip_limit: 50
    per_session_limit: 100
    
  logging:
    log_user_inputs: false  # ê°œì¸ì •ë³´ ë³´í˜¸
    log_system_events: true