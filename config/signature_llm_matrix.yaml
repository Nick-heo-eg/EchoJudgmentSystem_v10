# ğŸ­ Echo Signature LLM Priority Matrix
# ì‹œê·¸ë‹ˆì²˜ë³„ LLM ìš°ì„ ìˆœìœ„ ë§¤íŠ¸ë¦­ìŠ¤ ì„¤ì •
# Author: Claude & Echo Collaboration
# Version: 1.0
# Date: 2025-08-05

# ========== ì‹œê·¸ë‹ˆì²˜ë³„ LLM ìš°ì„ ìˆœìœ„ ==========

signature_llm_preference:
  # ğŸŒŸ Aurora: ì°½ì˜ì , ê³µê°ì  - Ollama Mistral(ì°½ì˜ì„±) ìš°ì„ 
  Aurora:
    - ollama
    - claude
    - echo_native
    
  # ğŸ”¥ Phoenix: ë³€í™” ì§€í–¥ì  - Ollama Gemma(í˜ì‹ ) ìš°ì„ 
  Phoenix:
    - ollama
    - claude
    - echo_native
    
  # ğŸ§  Sage: ë¶„ì„ì , ì§€í˜œë¡œìš´ - Ollama DeepSeek(ë¶„ì„ë ¥) ìš°ì„ 
  Sage:
    - ollama
    - claude
    - echo_native
    
  # ğŸ¤ Companion: í˜‘ë ¥ì , ì§€ì§€ì  - Ollama Llama3(ì¹œê·¼í•¨) ìš°ì„ 
  Companion:
    - ollama
    - claude
    - echo_native

# ========== LLMë³„ ìƒì„¸ ì„¤ì • ==========

llm_config:
  ollama:
    host: "http://localhost:11434"
    timeout: 120
    preferred_models:
      - "mistral:7b-instruct"  # ì‹¤ì œ ì„¤ì¹˜ë¨
      - "llama3:latest"        # ì‹¤ì œ ì„¤ì¹˜ë¨
      - "deepseek-r1:8b"       # ì‚¬ìš©ì ì–¸ê¸‰ ëª¨ë¸
      - "gemma3:4b"            # ì‚¬ìš©ì ì–¸ê¸‰ ëª¨ë¸  
      - "gemma3:12b"           # ì‚¬ìš©ì ì–¸ê¸‰ ëª¨ë¸
    signature_model_mapping:
      Aurora: "mistral:7b-instruct"      # ì°½ì˜ì  ì‘ë‹µ
      Phoenix: "llama3:latest"           # ë³€í™”ì§€í–¥ì  ì‚¬ê³ 
      Sage: "mistral:7b-instruct"        # ë¶„ì„ì  ì‘ë‹µ (í˜„ì¬ ê°€ëŠ¥í•œ ëª¨ë¸)
      Companion: "llama3:latest"         # ì¹œê·¼í•œ ëŒ€í™”
    connection_check_endpoint: "/api/tags"
    max_tokens: 2048
    temperature: 0.7
    
  claude:
    model: "claude-3-sonnet-20240229"
    timeout: 60
    max_tokens: 4000
    temperature: 0.7
    api_check: true
    
  echo_native:
    always_available: true
    timeout: 1
    fallback_priority: 999  # í•­ìƒ ë§ˆì§€ë§‰

# ========== ìƒí™©ë³„ íŠ¹ìˆ˜ ë¼ìš°íŒ… ==========

context_routing:
  # ì½”ë”© ê´€ë ¨ ì§ˆë¬¸
  coding:
    priority_override:
      - ollama   # DeepSeek-Coder ë“± ì½”ë”© íŠ¹í™” ëª¨ë¸
      - claude
      - echo_native
      
  # ì°½ì‘/ê¸€ì“°ê¸° ê´€ë ¨
  creative:
    priority_override:
      - ollama   # Mistral, Llama3 ë“± ì°½ì˜ì„± ìš°ìˆ˜
      - claude
      - echo_native
      
  # ë¶„ì„/ë…¼ë¦¬ì  ì‚¬ê³ 
  analytical:
    priority_override:
      - ollama   # DeepSeek-Coder ë“± ë¶„ì„ë ¥ ìš°ìˆ˜
      - claude
      - echo_native
      
  # ì¼ë°˜ ëŒ€í™”
  general:
    use_signature_default: true

# ========== ì„±ëŠ¥ ë° ê°€ìš©ì„± ì„¤ì • ==========

performance_config:
  # ê° LLMë³„ ìµœëŒ€ ì‘ë‹µ ì‹œê°„ (ëŒ€í˜• ëª¨ë¸ ê³ ë ¤í•˜ì—¬ í™•ì¥)
  max_response_time:
    ollama: 180     # 7B+ ëª¨ë¸ cold start ê³ ë ¤
    claude: 60
    echo_native: 1
    
  # ì—°ì† ì‹¤íŒ¨ ì„ê³„ê°’ (ì´í›„ ì¼ì‹œì  ì œì™¸)
  failure_threshold:
    ollama: 3
    claude: 5
    echo_native: 999  # ì ˆëŒ€ ì œì™¸ ì•ˆí•¨
    
  # ì¬ì‹œë„ ê°„ê²© (ì´ˆ)
  retry_interval:
    ollama: 120     # Ollama ì„œë²„ ì¬ì‹œì‘ ë“± ê³ ë ¤
    claude: 300
    echo_native: 0

# ========== ì‘ë‹µ í’ˆì§ˆ ì„¤ì • ==========

quality_config:
  # ìµœì†Œ ì‘ë‹µ ê¸¸ì´ (ê¸€ì ìˆ˜)
  min_response_length: 10
  
  # ì‘ë‹µ í’ˆì§ˆ ì²´í¬ í‚¤ì›Œë“œ (ì´ëŸ° ì‘ë‹µì€ ì‹¤íŒ¨ë¡œ ê°„ì£¼)
  failure_indicators:
    - "ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤"
    - "ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
    - "ì„œë²„ ì˜¤ë¥˜"
    - "connection refused"
    - "timeout"
    
  # ì„±ê³µ ì§€í‘œ
  success_indicators:
    - "ì •ìƒì ì¸ ì‘ë‹µ ê¸¸ì´"
    - "ê´€ë ¨ì„± ìˆëŠ” ë‚´ìš©"

# ========== ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§ ==========

logging_config:
  log_all_attempts: true
  log_response_times: true
  log_failure_reasons: true
  performance_tracking: true
  
  # ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜
  log_file: "logs/hybrid_llm_routing.log"
  performance_file: "logs/llm_performance_metrics.json"

# ========== ê°œë°œ/í…ŒìŠ¤íŠ¸ ì„¤ì • ==========

development:
  # í…ŒìŠ¤íŠ¸ ëª¨ë“œ (ì‹¤ì œ LLM í˜¸ì¶œí•˜ì§€ ì•Šê³  mock ì‘ë‹µ)
  test_mode: false
  
  # ê°•ì œ LLM ì§€ì • (í…ŒìŠ¤íŠ¸ìš©)
  force_llm: null  # "ollama", "mistral", "claude", "echo_native"
  
  # ë””ë²„ê·¸ ëª¨ë“œ
  debug_mode: true
  verbose_logging: true

# ========== ë©”íƒ€ë°ì´í„° ==========

metadata:
  version: "1.0"
  created_date: "2025-08-05"
  last_updated: "2025-08-05"
  author: "Claude & Echo Collaboration"
  description: "Echo Judgment Systemì„ ìœ„í•œ í•˜ì´ë¸Œë¦¬ë“œ LLM ë¼ìš°íŒ… ë§¤íŠ¸ë¦­ìŠ¤"
  
  # ë²„ì „ë³„ ë³€ê²½ì‚¬í•­
  changelog:
    "1.0":
      - "ì´ˆê¸° í•˜ì´ë¸Œë¦¬ë“œ LLM ë§¤íŠ¸ë¦­ìŠ¤ êµ¬í˜„"
      - "4ê°œ ì‹œê·¸ë‹ˆì²˜ ìµœì í™” ìš°ì„ ìˆœìœ„ ì„¤ê³„"
      - "ìƒí™©ë³„ ë¼ìš°íŒ… ë° ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ì¶”ê°€"