# π Human-AI Resonance Report Generator
# κ°„μ†ν™”λ λ³΄κ³ μ„ μƒμ„± (syntax error νν”Ό)

from pathlib import Path
from datetime import datetime
from typing import Dict, Any, Optional


def generate_resonance_report(
    report_path: Path,
    session: Any,
    summary: Dict[str, Any],
    recommendation_rationale: Optional[Dict[str, Any]] = None,
):
    """μƒμ„Έ λ¶„μ„ λ³΄κ³ μ„ μ‘μ„± - μ•μ „ λ²„μ „"""

    with report_path.open("w", encoding="utf-8") as f:
        # κ°„λ‹¨ν• ν—¤λ”λ§
        f.write("# Human-AI Resonance Analysis Report\n\n")
        f.write(f"Session ID: {getattr(session, 'id', 'unknown')}\n")
        f.write(f"Generated: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\n\n")

        # μ”μ•½ μ μ (μ•μ „ν•κ²)
        f.write("## Overall Summary\n\n")
        if summary:
            f.write(f"Overall Score: {summary.get('overall_score', 'N/A')}\n")
            f.write(f"Quality Level: {summary.get('quality_label', 'N/A')}\n\n")

        # μ¶”μ²μ‚¬ν•­ (κ°„λ‹¨ν)
        if recommendation_rationale:
            f.write("## Recommendations\n\n")
            for key, value in recommendation_rationale.items():
                f.write(f"- {key}: {value}\n")

        f.write("\n---\nReport generated by Echo Resonance Kit\n")


# νΈμ ν•¨μ (μ›λ³Έ API νΈν™)
def write_resonance_report(*args, **kwargs):
    """μ›λ³Έ API νΈν™μ„± μ μ§€"""
    return generate_resonance_report(*args, **kwargs)
